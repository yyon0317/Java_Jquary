<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이벤트 버블링과 이벤트관련 함수들</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="main.css">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
</head>
<body>

    <div class="black-bg">
        <div class="white-bg">
          <h4>로그인하세요</h4>
  
          <form action="success.html">
            <div class="my-3">
              <input type="text" class="form-control" id="email">
             </div>
             <div class="my-3">
               <input type="password" class="form-control" id="password">
             </div>
             <button type="submit" class="btn btn-primary" id="send">전송</button>
             <button type="button" class="btn btn-danger" id="close">닫기</button>
          </form> 
          
        </div>
      </div>
  
      <button id="login">로그인</button>

      <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>  
    <script>
        
        //제이쿼리
        $('#login').on('click',function(){
            $('.black-bg').addClass('show-modal')
        })
        $('#close').on('click',function(){
            $('.black-bg').removeClass('show-modal')
        })

        //검은 배경 누르면 없어지는거
        document.querySelector('.black-bg').addEventListener('click', function(e){
            e.target; //실제 클릭한 요소 알려줌 (이벤트 발생한 곳)
            e.currentTarget; //이벤트리스너가 달린 곳 알려줌 (참고로 this라고 써도 똑같음)
            e.preventDefault(); //실행하면 이벤트 기본 동작을 막아줌
            e.stopPropagation(); //내 상위요소로의 이벤트 버블링을 중단해줌

            //지금 실제로 클릭한게 검은 배경일 때만 닫아라
            if(e.target==document.querySelector('.black-bg')){
                document.querySelector('.black-bg').classList.remove('show-modal');

            }


        })

        //이벤트 버블링
        //어떤 HTML 태그에 이벤트가 발생하면 그의 모든 상위요소까지 이벤트가 실행되는 현상을 이벤트 버블링이라고 합니다. 
        //click이라는 이벤트로 예를 들어보면,
        //HTML 태그에 클릭이 발생하면 그의 모든 상위요소까지 자동으로 클릭된다는 말입니다. 




    </script>

    
</body>
</html>